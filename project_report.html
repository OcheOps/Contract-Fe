<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Report</title>
 <script>function fetchData() {
    fetch('https://contractb.onrender.com/report')
        .then(response => response.json())
        .then(data => {
            // Call function to display data in the table
            displayData(data);
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
}
function displayData(data) {
    const tableBody = document.querySelector('tbody');
    tableBody.innerHTML = ''; // Clear existing table rows
    
    data.forEach((item, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index + 1}</td>
            <td>${item.projectName}</td>
            <td>${item.department}</td>
            <td>${item.startDate}</td>
            <td>${item.endDate}</td>
            <td>${item.taskToDate}</td>
            <td>${item.taskRemaining}</td>
            <td>${item.constraints}</td>
            <td>${item.remark}</td>
        `;
        tableBody.appendChild(row);
    });
}

// Call fetchData function when the page loads
window.addEventListener('load', fetchData);</script> // Function to fetch data from the API

  <!--const apiUrl = 'https://contractb.onrender.com/ report'; 
  const outputElement = document. getElementById('output'); fetch(apiUrl) .-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
            background-image: url('images/npa_bg_img.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            height: 134.3vh;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    /* Custom CSS for loading spinner */
    .loading-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 150%;
          background-color: rgba(255, 255, 255, 0.7);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000; /* Ensure it's on top of other elements */
      }
      .spinner-border {
          width: 3rem;
          height: 3rem;
      }
</style>

</head>
<body style="background: #eee;">
     <!-- Loading overlay -->
<div class="loading-overlay d-none">
  <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
  </div>
</div>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top navbar-light">
<div class="container">
  <button class="navbar-toggler navbar-toggler-light" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Menu
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="project_details.html" onclick="showLoading('project_details.html')">Project Details</a>
          <a class="dropdown-item" href="project_progress.html" onclick="showLoading('project_progress.html')">Progress</a>
          <a class="dropdown-item" href="project_report.html" onclick="showLoading('project_report.html')">Report</a>
        </div>
      </li>
    </ul>
  </div>
</div>
</nav>

<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  function showLoading(pageUrl) {
      // Show loading overlay
      document.querySelector('.loading-overlay').classList.remove('d-none');
      
      // Delay navigation to the page after 60 seconds
      setTimeout(function() {
          window.location.href = pageUrl;
      }, 60000);
  }
</script>

<div class="container">
  <!-- Search Form -->
  <form class="d-flex mt-3 mb-4">
    <input class="form-control me-2" type="search" placeholder="Search project" aria-label="Search">
    <button class="btn btn-outline-primary" type="submit">Search</button>
  </form>

  <h1 class="mt-5">Project Report</h1>
  <table class="table table-bordered mt-4">
    <thead>
      <tr>
        <th scope="col">S/N</th>
        <th scope="col">Project Name</th>
        <th scope="col">Department</th>
        <th scope="col">Award Start Date</th>
        <th scope="col">Project End Date</th>
        <th scope="col">Task to Date</th>
        <th scope="col">Task Remaining</th>
        <th scope="col">Constraints</th>
        <th scope="col">Remark</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Project A</td>
        <td>Engineering</td>
        <td>2024-04-26</td>
        <td>2024-10-31</td>
        <td>50%</td>
        <td>50%</td>
        <td>No major constraints</td>
        <td>On track</td>
      </tr>
      
    </tbody>
  </table>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>




<!-- https://contractb.onrender.com -->